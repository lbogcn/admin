define(["jquery"],function(t){function e(e,n,r,u){return u=u||!0,t.ajax({url:e,data:n||{},type:r||"GET",dataType:"json",headers:{"X-CSRF-TOKEN":t('meta[name="csrf-token"]').attr("content")}}).then(function(e,n,r){return 0==e.code?e.data:t.Deferred().reject(r,e.msg)},function(e){return t.Deferred().reject(e)}).fail(function(t,n){n||(n="URL："+e+"\n网络请求失败！\n"+t.status+"："+t.statusText),u&&alert(n)})}return{apiGet:function(t,n){return e(t,n)},apiPost:function(t,n){return e(t,n,"POST")},apiPut:function(t,n){return e(t,n,"PUT")},apiPatch:function(t,n){return e(t,n,"PATCH")},apiDelete:function(t,n){return e(t,n,"DELETE")},handle:e}});